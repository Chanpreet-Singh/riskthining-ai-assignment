## Riskthining.ai- Data Engineer Assignment

------------


#### This project contains code, as an assignment, completed as a part of the hiring process of RiskThinking.ai organization

Details of the assignemnt questions can be viewed from the [Data-Engineer.md](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/Data-Engineer.md "Data-Engineer.md") file

Development environment:
- [Debian/Ubuntu 20.04 LTS](https://releases.ubuntu.com/focal/ "Debian/Ubuntu 20.04 LTS")
- [Python 3.8](https://www.python.org/downloads/release/python-380/ "Python 3.8")
- [Spark 3.4.0](https://spark.apache.org/releases/spark-release-3-4-0.html "Spark 3.4.0")
- [Prefect orchestration tool](https://www.prefect.io/ "Prefect orchestration tool")
- [Fast API Service](https://fastapi.tiangolo.com/ "Fast API Service"), [Gearman Job Server](http://gearman.org/ "Gearman Job Server") and [NGINX](https://www.nginx.com/ "NGINX") - for API building and model deployment

Before proceeding, the data should be downloaded(from the URL  given in the assignment) and extracted into a folder named 'archive'.

------------
##### Solution of Problem-1
Problem-1 is divided into 2 sub-tasks, let it be named 'a' and 'b'
- **Part-a** is executed using python using multiprocessing, by leveraging all the cores of the machine, in a distributed manner. Tasks carried out in part-a creates reads every csv file, maps the *Symbol* and *Security Name* using metadata and the each data's file name. Then each file is dumped as csv into *semi-processed* folder following the same directory structure as the input folder - *archive*.
Script Name - [problem-1-a.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-1-a.py "problem-1-a.py")
- **Part-b** is executed using Spark(Pyspark) wherein all the csv files are read from the *semi-processed* folder (both etfs and stocks), then merged into a single dataframe and dumped as a parquet file.
Script Name - [problem-1-b.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-1-b.py "problem-1-b.py")

------------
##### Solution of Problem-2
Problem-2 is solved using Spark(Pyspark) wherein the parquet file is read, the entire dataset in windowed on the basis of *Symbol* we mapped in problem-1(part-a) and each window is ordered on the basis of *Date* feature. In each window, *vol_moving_avg* (30-day moving average) and *adj_close_rolling_med* (30-day moving median) is calculated. All the columns in the resulting dataframe except *vol_moving_avg*, *adj_close_rolling_med*, *Volume* are removed. The final data is dumped into the folder *model* again as a parquet file.
Script Name - [problem-2.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-2.py "problem-2.py")

------------
##### Solution of Problem-3
This problem is solved using python script wherein [RandomForestRegressor](https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html "RandomForestRegressor") algorithm is applied on the data. Since, it is a memory intensive process, a random sampling(10%) was done on the data and then the algorithm was applied using one-fourth of the processors in the machine. The resultant model is dumped as a [pickle](https://docs.python.org/3/library/pickle.html "pickle") file. This pickle file will be used for giving out results via Rest API.
Script Name - [problem-3.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-3.py "problem-3.py")

------------
**All the above 4 scripts are sequentially executed using Prefect orchestrating tool inside a containerized environment.**

------------
##### Solution of Problem-4
This problem is solved in three parts:
- **Rest API**: The API is built using Fast API. Script name: [problem-4-api.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-4-api.py "problem-4-api.py"). Command to execute: `uvicorn problem-4-api:app`
- **Nginx Load balancer** - for interacting with requests coming from outside VM. Script and Command to setup nginx - `cd nginx-deploy-commands/ && bash setup_nginx.sh`
- **Gearman Job Server** - for keeping the model always alive in RAM i.e. making the model readily available. It is chosen because the resultant model(despite training on just 10% of the data, refer problem-3) is atleast 3.5GB in size. Thus, loading such a huge model at each request would be not only processor intensive but memory intensive too in case of high concurrent requests. Script name: [problem-4-model_loader.py](https://github.com/Chanpreet-Singh/riskthining-ai-assignment/blob/main/problem-4-model_loader.py "problem-4-model_loader.py")
Below is a DFD for the model deployment -

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="782px" height="271px" viewBox="-0.5 -0.5 782 271" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2023-05-07T12:28:53.587Z&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot; etag=&quot;83i00qS9g8aXmpLwlSx4&quot; version=&quot;21.2.1&quot; type=&quot;device&quot;&gt;&lt;diagram name=&quot;Page-1&quot; id=&quot;wLmhXntBU6TilISLZ-z3&quot;&gt;3Vldb+I4FP01PIKSGPLxWKCdHWl3hLa72s5TZRITrDpx1jEF+uv3OnHAccLAVtBKrRA4x/a1fe7x9XU6QLNs903gYv0HTwgbeE6yG6D5wPOiIIRvBexrwA+DGkgFTWrIPQKP9I1o0NHohiakbDWUnDNJizYY8zwnsWxhWAi+bTdbcdYetcAp6QCPMWZd9B+ayHWNhl5wxH8jNF03I7t+VNdkuGmsV1KuccK3BoTuB2gmOJd1KdvNCFPcNbzU/R5O1B4mJkguL+nwZ7hIV2/B5K5AxP/5d7S/89+G7qQ284rZRq9Yz1buGwoE3+QJUVacAZpu11SSxwLHqnYLPgdsLTMGTy4UtTkiJNmdnKh7WD7IhvCMSLGHJrqDF2rGtGTchsHt0QF+g60N8r2xBrF2enqwfeQFCpqa/0PTeZbKFyLjtSbJICTB5bpNXtkmb0UZm3HGRWUHeWEwuQd2pqUU/IUYNavqD2oKTnNZLXEyhY8zchxw48wZ+Uj9DCbQelZVuBXsWWjUi1Ym7JbRCcNB1Rvqe4y4FuaFVlv4oKmSCIV99jteErbgJZWU57CmJZeSZ9AAM5oqIAbZEGH0uNMVkiv6YFsVis1sl6oANHrZLInICdA8orGyOC3E96owxwW9gjwnyJKn35Wn2ydP172VPL0L5GnRFNMy5qMMvkcrwXP5TPLkuRA8JmWpBGdKuNIbEfevpJZdR9aWhB3kh1HwSwnXNU1E9S7RQ7/7OyrhG8loDoM254FznajkTs67PfpQr6OO1398+/7j6dPjN7I3SDi5bIP4t2LqgkMO5H+n0gUlJYbLksaVSrGQXdigq80tECT2T+bDT/UAUVE/zndm5XzfPO2ofNIWVdnoBU/HTurB7LMgggJDSveGzEnSSWks18HK+UbE5HxIAQJSIs+JsCsFw9WTHk83mCAMS/ranm6f+/UICxWJDKVFbaWh0FJQvUzdy8yNLEPjsWUIWYZqHjqGKjUelv1+gfofLtCRg0JLpE50C5kqCzfUKbpQpydC1sfo1LPODgDep1M0PmPoxjoNOzqd4VwNz0oOP0uibmKYMRBcNScV5X0GZE6XUEhVISVYZDgfxowqZ+tqmM2hRUf6cBTJtqrbiUXOc2JlIRo6m0NmNEnUML3HYnvvXCN1bNzVuC/sSR1Rjw7tcHS1kzHqOPRBZYNDiDZf1w12KtfnBv8jvdCkiDeP/5cG3s8KlH4nUL7zQA/QGUMnAiVwifdGM33VPjnhwOkf56iG2uJVo7Dbzfw7cqFZ9WJrisuivgat6E7JYFoYZzGMRYuSGMezKZ3Orj28wXLsC6B6pUHz9C91JZsjAPTwc5qlsERGIbg/4Fgp4zmhAmbElQweYrYpwfZzSQTs6FH5ml5nhwfWOdl7R3d7dHy725o77jitOQrr1X/deNvZjJ9+7Ll9CXediax4tb+PfvD/3fCmYlhWL6jvoIEbFruKnqa+SV8Wgi8ZyYZjI7epjX719GbsW7eonhe31zpYBypRaV6d14H1+P8HdP8f&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="146" y="15" width="620" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 455.59 55.06 C 454.59 55.13 453.58 55.38 452.7 55.82 L 413.31 74.6 C 411.24 75.61 409.73 77.49 409.23 79.69 L 399.49 121.97 C 399.05 123.91 399.43 125.99 400.5 127.68 C 400.69 127.87 400.81 128.06 400.94 128.31 L 428.2 162.17 C 429.65 163.93 431.85 165 434.11 165 L 477.83 165 C 480.09 165 482.29 163.93 483.74 162.17 L 511 128.25 C 512.38 126.49 512.95 124.17 512.44 121.97 L 502.71 79.69 C 502.21 77.49 500.7 75.61 498.62 74.6 L 459.24 55.82 C 458.1 55.25 456.85 55 455.59 55.06 Z" fill="#ffffff" stroke="none" pointer-events="all"/><path d="M 455.62 58.36 C 454.67 58.42 453.73 58.65 452.9 59.07 L 415.87 76.72 C 413.93 77.67 412.51 79.44 412.04 81.51 L 402.88 121.25 C 402.47 123.08 402.82 125.03 403.83 126.62 C 404 126.8 404.12 126.98 404.24 127.21 L 429.87 159.04 C 431.23 160.7 433.29 161.7 435.42 161.7 L 476.52 161.7 C 478.65 161.7 480.71 160.7 482.07 159.04 L 507.7 127.15 C 509 125.5 509.53 123.32 509.06 121.25 L 499.91 81.51 C 499.43 79.44 498.02 77.67 496.07 76.72 L 459.04 59.07 C 457.98 58.54 456.8 58.3 455.62 58.36 Z" fill="#2875e2" stroke="none" pointer-events="all"/><path d="M 456 77 C 455.34 77 435.63 86.7 435.38 87.16 C 434.77 88.38 430.27 109 430.53 109.46 C 430.68 109.72 433.9 113.8 437.73 118.55 L 444.62 127.18 L 455.95 127.18 L 467.28 127.18 L 474.48 118.19 L 481.73 109.16 L 479.17 98.08 C 477.8 92.01 476.57 86.9 476.42 86.8 C 476.06 86.44 456.41 77.05 456 77 Z M 457.23 87.16 C 458.19 87.21 458.3 88.64 460.34 88.79 C 462.99 89 462.69 86.49 464.73 88.23 C 466.77 89.97 464.27 90.07 464.93 92.67 C 465.55 95.27 467.79 94.25 466.82 96.7 C 465.8 99.15 464.88 96.86 462.64 98.23 C 460.34 99.66 462.02 101.5 459.37 101.3 C 456.71 101.09 458.65 99.51 456.61 97.77 C 454.57 96.09 453.35 98.23 452.73 95.63 C 452.07 93.08 454.16 94.41 455.18 91.96 C 456.2 89.45 453.75 89 456.05 87.57 C 456.31 87.41 456.56 87.31 456.77 87.21 C 456.92 87.16 457.07 87.16 457.23 87.16 Z M 459.88 90.07 C 459.52 90.07 459.11 90.12 458.76 90.22 C 456.71 90.83 455.54 92.98 456.15 95.02 C 456.77 97.06 458.96 98.23 461 97.62 C 463.04 97.01 464.17 94.87 463.55 92.82 C 463.1 91.19 461.56 90.07 459.88 90.07 Z M 444.62 96.7 C 444.82 96.7 445.08 96.75 445.38 96.86 C 447.83 97.62 445.33 98.9 447.07 100.79 C 448.8 102.62 450.28 100.23 450.84 102.73 C 451.46 105.23 449.06 103.75 448.34 106.2 C 447.58 108.65 450.39 108.7 448.5 110.43 C 446.61 112.17 446.76 109.41 444.26 109.97 C 441.76 110.54 443.09 112.99 440.64 112.27 C 438.19 111.51 440.69 110.23 438.95 108.34 C 437.22 106.45 435.74 108.85 435.17 106.35 C 434.56 103.85 436.96 105.38 437.68 102.93 C 438.44 100.48 435.63 100.38 437.52 98.64 C 439.41 96.91 439.26 99.71 441.76 99.15 C 443.95 98.64 443.19 96.7 444.62 96.7 Z M 462.84 99.41 C 463.04 99.41 463.35 99.46 463.71 99.56 C 466.52 100.68 462.79 102.37 464.98 104.46 C 467.18 106.55 468.71 102.78 469.94 105.53 C 471.16 108.29 467.33 106.86 467.38 109.92 C 467.43 112.94 471.21 111.35 470.14 114.16 C 469.02 116.97 467.33 113.24 465.24 115.44 C 463.15 117.63 466.92 119.16 464.17 120.39 C 461.41 121.61 462.84 117.78 459.78 117.84 C 456.77 117.94 458.35 121.66 455.54 120.59 C 452.73 119.47 456.46 117.78 454.26 115.69 C 452.07 113.6 450.54 117.38 449.31 114.62 C 448.09 111.86 451.92 113.29 451.87 110.28 C 451.76 107.22 448.04 108.85 449.11 105.99 C 450.23 103.19 451.92 106.91 454.01 104.72 C 456.1 102.52 452.32 100.99 455.08 99.77 C 457.84 98.54 456.41 102.37 459.42 102.32 C 462.07 102.27 461.21 99.36 462.84 99.41 Z M 443.03 100.68 C 440.89 100.68 439.16 102.42 439.16 104.56 C 439.16 106.71 440.89 108.39 443.03 108.39 C 445.13 108.39 446.86 106.71 446.86 104.56 C 446.86 102.42 445.13 100.68 443.03 100.68 Z M 459.62 104.41 C 456.46 104.41 453.91 106.91 453.91 110.08 C 453.91 113.24 456.46 115.79 459.62 115.79 C 462.79 115.79 465.29 113.24 465.29 110.08 C 465.29 106.91 462.74 104.41 459.62 104.41 Z M 463.71 131.26 L 463.71 129.83 L 464.98 129.83 L 464.98 131.26 Z M 463.71 140.14 L 463.71 132.69 L 464.98 132.69 L 464.98 140.14 Z M 455.69 143 L 455.69 132.69 L 456.87 132.69 L 456.87 133.66 Q 457.28 133.05 457.79 132.79 Q 458.3 132.48 459.01 132.48 Q 459.98 132.48 460.7 133 Q 461.41 133.51 461.82 134.37 Q 462.18 135.29 462.18 136.36 Q 462.18 137.49 461.77 138.41 Q 461.36 139.32 460.54 139.84 Q 459.78 140.29 458.91 140.29 Q 458.3 140.29 457.79 140.04 Q 457.28 139.78 456.97 139.38 L 456.97 143 Z M 456.82 136.47 Q 456.82 137.9 457.43 138.56 Q 457.99 139.27 458.86 139.27 Q 459.68 139.27 460.29 138.56 Q 460.9 137.84 460.9 136.36 Q 460.9 134.94 460.29 134.22 Q 459.73 133.51 458.91 133.51 Q 458.09 133.51 457.48 134.27 Q 456.82 134.99 456.82 136.47 Z M 452.53 139.22 Q 451.87 139.84 451.2 140.04 Q 450.54 140.29 449.82 140.29 Q 448.55 140.29 447.88 139.73 Q 447.22 139.12 447.22 138.15 Q 447.22 137.64 447.48 137.18 Q 447.73 136.72 448.14 136.42 Q 448.55 136.16 449.06 136.01 Q 449.42 135.9 450.18 135.85 Q 451.71 135.65 452.43 135.39 Q 452.43 135.14 452.43 135.09 Q 452.43 134.27 452.07 133.97 Q 451.61 133.56 450.64 133.56 Q 449.77 133.56 449.31 133.86 Q 448.9 134.17 448.7 134.99 L 447.48 134.78 Q 447.63 134.02 448.04 133.51 Q 448.39 133.05 449.16 132.74 Q 449.87 132.48 450.84 132.48 Q 451.81 132.48 452.38 132.74 Q 452.99 132.94 453.24 133.3 Q 453.55 133.61 453.65 134.17 Q 453.7 134.48 453.7 135.34 L 453.7 137.03 Q 453.7 138.76 453.81 139.22 Q 453.91 139.73 454.11 140.14 L 452.78 140.14 Q 452.58 139.73 452.53 139.22 Z M 452.43 136.36 Q 451.76 136.67 450.39 136.87 Q 449.62 136.98 449.26 137.13 Q 448.96 137.28 448.75 137.54 Q 448.6 137.79 448.6 138.15 Q 448.6 138.66 448.96 138.97 Q 449.36 139.32 450.08 139.32 Q 450.84 139.32 451.41 139.02 Q 451.97 138.66 452.22 138.1 Q 452.43 137.69 452.43 136.87 Z" fill="#ffffff" stroke="none" pointer-events="all"/><rect x="16" y="55" width="90" height="110" fill="none" stroke="none" pointer-events="all"/><rect x="16" y="55" width="0" height="0" fill="none" stroke="#ffffff" stroke-width="2" pointer-events="all"/><path d="M 39.63 72.95 L 16 72.95 L 16 165 L 39.63 165 Z M 39.63 165 L 57.62 147.05 L 57.62 55 L 32.88 55 L 16 72.95 L 39.63 72.95 L 39.63 165 Z" fill="#036897" stroke="#ffffff" stroke-width="2" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><path d="M 64.38 72.95 L 39.63 72.95 L 39.63 165 L 64.38 165 Z M 64.38 165 L 81.26 147.05 L 81.26 55 L 57.62 55 L 39.63 72.95 L 64.38 72.95 Z" fill="#036897" stroke="#ffffff" stroke-width="2" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><path d="M 88.01 72.95 L 64.38 72.95 L 64.38 165 L 88.01 165 Z M 88.01 165 L 106 147.05 L 106 55 L 81.26 55 L 64.38 72.95 L 88.01 72.95 Z M 88.01 72.95 L 106 55" fill="#036897" stroke="#ffffff" stroke-width="2" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/><rect x="16" y="55" width="0" height="0" fill="none" stroke="#ffffff" stroke-width="2" pointer-events="all"/><path d="M 84.63 88.68 L 84.63 75.21 L 67.75 75.21 L 67.75 88.68 Z M 84.63 103.26 L 84.63 90.9 L 67.75 90.9 L 67.75 103.26 Z M 84.63 154.9 L 84.63 141.42 L 67.75 141.42 L 67.75 154.9 Z" fill="#036897" stroke="#ffffff" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="196" y="80" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 110px; margin-left: 197px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">NGINX</div></div></div></foreignObject><text x="256" y="114" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">NGINX</text></switch></g><path d="M 112.37 110 L 189.63 110" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 107.12 110 L 114.12 106.5 L 112.37 110 L 114.12 113.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 194.88 110 L 187.88 113.5 L 189.63 110 L 187.88 106.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 322.37 110.07 L 394.19 110.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 317.12 110.01 L 324.16 106.6 L 322.37 110.07 L 324.08 113.59 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 399.44 110.98 L 392.4 114.39 L 394.19 110.92 L 392.48 107.4 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="391" y="175" width="130" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 190px; margin-left: 392px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Can also be called as <b>gearman-client</b></div></div></div></foreignObject><text x="456" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Can also be called as...</text></switch></g><rect x="16" y="175" width="60" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 190px; margin-left: 17px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Front-end</div></div></div></foreignObject><text x="46" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Front-end</text></switch></g><path d="M 522.37 115 L 566 115 L 589.63 115" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 517.12 115 L 524.12 111.5 L 522.37 115 L 524.12 118.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 594.88 115 L 587.88 118.5 L 589.63 115 L 587.88 111.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><image x="605.5" y="54.5" width="110" height="110" xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNzgyLjY4NyIgaGVpZ2h0PSI3ODIuNjk1IiB2aWV3Qm94PSIwIDAgMjA3LjA4NiAyMDcuMDg4Ij48c3R5bGU+PCFbQ0RBVEFbLkJ7ZG9taW5hbnQtYmFzZWxpbmU6YXV0b30uQ3tzdHJva2Utd2lkdGg6My45Mzh9XV0+PC9zdHlsZT48ZGVmcz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI0IiIGlkPSJBIiB4MT0iOTcuMjMiIHkxPSIyMzUuMzY1IiB4Mj0iOTcuNTExIiB5Mj0iMTE5Ljk0NiIvPjxsaW5lYXJHcmFkaWVudCBpZD0iQiIgeGxpbms6aHJlZj0iI04iPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzA1MjM5YSIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzkxYmNmOCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IHhsaW5rOmhyZWY9IiNEIiBpZD0iQyIgeDE9IjYxLjIyOSIgeTE9IjIyNy42MDciIHgyPSI2MC43NDUiIHkyPSIxMzEuNjU4Ii8+PGxpbmVhckdyYWRpZW50IGlkPSJEIiB4bGluazpocmVmPSIjTiI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjMDY3N2ZjIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOGZjYWZlIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI0YiIGlkPSJFIiB4MT0iODYuNDg4IiB5MT0iMTQ0LjI1MiIgeDI9Ijg2LjYzNiIgeTI9IjEwNS44MzgiLz48bGluZWFyR3JhZGllbnQgaWQ9IkYiIHhsaW5rOmhyZWY9IiNOIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNhOGRlZmUiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxMmE3ZmMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCB4bGluazpocmVmPSIjQiIgaWQ9IkciIHgxPSIxNDAuNzEyIiB5MT0iMjQ2Ljk0NCIgeDI9IjE0MC45OTIiIHkyPSIxMzEuNTI1Ii8+PGxpbmVhckdyYWRpZW50IHhsaW5rOmhyZWY9IiNEIiBpZD0iSCIgeDE9IjEwNC43MTEiIHkxPSIyMzkuMTg2IiB4Mj0iMTA0LjIyNyIgeTI9IjE0My4yMzciLz48bGluZWFyR3JhZGllbnQgeGxpbms6aHJlZj0iI0YiIGlkPSJJIiB4MT0iMTI5Ljk3IiB5MT0iMTU1LjgzMSIgeDI9IjEzMC4xMTciIHkyPSIxMTcuNDE2Ii8+PGxpbmVhckdyYWRpZW50IGlkPSJKIiB4MT0iMTA4Ljc5NiIgeTE9Ijg0LjU2NiIgeDI9IjEwOC41MDEiIHkyPSI2MC42MjYiIHhsaW5rOmhyZWY9IiNOIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNiMGUxZmUiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxMGE2ZmMiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iSyIgeDE9IjEwOC42MDEiIHkxPSIxMDYuNTIyIiB4Mj0iMTA4LjgzMSIgeTI9Ijc3Ljk3OCIgeGxpbms6aHJlZj0iI04iPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzBhMjc5YiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzlhYmZlOSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJMIiB4MT0iMTA3LjQ4NyIgeTE9IjIzOS4zNjciIHgyPSIxMDguODA0IiB5Mj0iNTcuMzc3IiB4bGluazpocmVmPSIjTiI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmVjMjI1Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZTM2MTFlIi8+PC9saW5lYXJHcmFkaWVudD48cGF0aCBpZD0iTSIgZD0iTTU1LjM0NSAxNjIuNTV2MS43MzZsOC43MDQgNC43NzZ2LTEuNzM2eiIvPjxsaW5lYXJHcmFkaWVudCBpZD0iTiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiLz48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUuNTUxIC00NC43NzkpIj48cGF0aCBkPSJNMTA5LjA5NCA0NC43OEM1MS45MzIgNDQuNzggNS41NSA5MS4xNiA1LjU1IDE0OC4zMjJzNDYuMzggMTAzLjU0NSAxMDMuNTQzIDEwMy41NDUgMTAzLjU0My00Ni4zODMgMTAzLjU0My0xMDMuNTQ1UzE2Ni4yNTUgNDQuNzggMTA5LjA5NCA0NC43OHoiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJub3JtYWwiIGNsYXNzPSJCIi8+PGNpcmNsZSBjeD0iMTA5LjIzNSIgY3k9IjE0OC41MiIgcj0iOTIuNDcyIiBmaWxsPSJ1cmwoI0wpIiBwYWludC1vcmRlcj0ibm9ybWFsIi8+PHBhdGggZD0iTTU5LjU5NCA4Ni4xNjR2NDQuNTk0aDIuNVY4OC42NjRoOTEuMjM4djQxLjU2aDIuNXYtNDQuMDZ6IiBmaWxsPSIjMDA3M2ZjIiBjbGFzcz0iQiIvPjxwYXRoIGQ9Ik0xMjEuMTkgMjEwLjY0MmwtNDguNTE4IDI1LjgxNnYtOTEuNzg0bDQ4LjUxOC0yNi4xN3oiIGZpbGw9InVybCgjQSkiLz48cGF0aCBkPSJNNzIuNjczIDIzNi40NThsLTI0LjI0OC0xMy4zOTZ2LTkxLjY2bDI0LjI0OCAxMy4yNzIiIGZpbGw9InVybCgjQykiLz48cGF0aCBkPSJNMTIxLjE5IDExOC41MDNsLTQ4LjUxOCAyNi4xNy0yNC4yNDgtMTMuMjcyIDQ4LjM2Ny0yNS44eiIgZmlsbD0idXJsKCNFKSIvPjxnIGZpbGw9IiNmZmYiIGNsYXNzPSJCIj48dXNlIHhsaW5rOmhyZWY9IiNNIi8+PHVzZSB4bGluazpocmVmPSIjTSIgeT0iOC43NSIvPjwvZz48cGF0aCBkPSJNNzIuNjczIDE0NC42NzRsNDguNTE4LTI2LjE3em0wIDkxLjc4NHYtOTEuNzg0bC0yNC4yNDgtMTMuMjcybTI0LjI0OCAxMDUuMDU2bC0yNC4yNDgtMTMuMzk2di05MS42Nmw0OC4zNjctMjUuOCAyNC40IDEyLjkxdjkyLjE0eiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBjbGFzcz0iQyIvPjxwYXRoIGQ9Ik0xNjQuNjczIDIyMi4yMmwtNDguNTE4IDI1LjgxNnYtOTEuNzg0bDQ4LjUxOC0yNi4xN3oiIGZpbGw9InVybCgjRykiLz48cGF0aCBkPSJNMTE2LjE1NSAyNDguMDM3TDkxLjkwNiAyMzQuNjR2LTkxLjY2bDI0LjI0OCAxMy4yNzIiIGZpbGw9InVybCgjSCkiLz48cGF0aCBkPSJNMTY0LjY3MyAxMzAuMDhsLTQ4LjUxOCAyNi4xNy0yNC4yNDgtMTMuMjcyIDQ4LjM2Ny0yNS44eiIgZmlsbD0idXJsKCNJKSIvPjxnIGZpbGw9IiNmZmYiIGNsYXNzPSJCIj48dXNlIHhsaW5rOmhyZWY9IiNNIiB4PSI0My40ODEiIHk9IjExLjU3OCIvPjx1c2UgeGxpbms6aHJlZj0iI00iIHg9IjQzLjQ4MSIgeT0iMjAuMzQiLz48L2c+PHBhdGggZD0iTTExNi4xNTUgMTU2LjI1Mmw0OC41MTgtMjYuMTd6bTAgOTEuNzg0di05MS43ODRMOTEuOTA2IDE0Mi45OG0yNC4yNDggMTA1LjA1Nkw5MS45MDYgMjM0LjY0di05MS42Nmw0OC4zNjctMjUuOCAyNC40IDEyLjkxdjkyLjE0eiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZmZmIiBjbGFzcz0iQyIvPjxwYXRoIGQ9Ik0xMDguNSA2MC42MjZoLjAwMmM3LjQ5OC0uMDE0IDE2LjUyIDEuMTg3IDIzLjUxMiAzLjM2MiAzLjQ5NSAxLjA4OCA2LjQ4NCAyLjQzNCA4LjQ2IDMuODdzMi43NDcgMi43NTggMi43NDcgMy44ODJjMCAxLjczLS44NCAzLjMzLTIuNzQgNC45ODJzLTQuNzkgMy4xNy04LjI2MyA0LjM5Yy02Ljk0NiAyLjQ0LTE2LjE5MiAzLjczLTI0LjcwOCAzLjczLTkuNTMgMC0xOC41MjctMS42MDYtMjQuOTktNC4xMzQtMy4yMy0xLjI2NC01LjgyMi0yLjc3LTcuNDk1LTQuMjk3cy0yLjM0My0yLjkyNi0yLjM0My00LjE4YzAtLjY4LjM5NS0xLjc4IDEuNjgzLTMuMDlzMy4zOTgtMi43NCA2LjM0Mi00LjAxNmM1Ljg5LTIuNTUgMTUuMDk2LTQuNSAyNy43OTItNC41eiIgZmlsbD0idXJsKCNKKSIgY2xhc3M9IkIiLz48cGF0aCBkPSJNMTQyLjg1IDc2LjE3bC4xNCAxOS42MDVjLTUuMTY4IDYuMjk4LTE4LjYwNSAxMC42NTMtMzQuOTEgMTAuNjUzLTYuMTcgMC0xMy41NTctLjY3Ni0yMC4xMTQtMi40MjMtNi4zMjYtMS42ODUtMTEuNzU3LTQuNDQtMTQuNzItOC4xNDZMNzMuMiA3Ni4zMjZjLjA0NS4wNC4wOC4wODcuMTI0LjEyNyAyLjEyMyAxLjg3MiA0Ljk5NiAzLjQyNiA4LjQzNiA0LjcyNiA2Ljg4IDIuNiAxNi4wNDYgNC4xNSAyNS43OTIgNC4xNSA4LjcxIDAgMTguMDY0LTEuMjM0IDI1LjQxLTMuNzI4IDMuNjc0LTEuMjQ3IDYuODUyLTIuNzk4IDkuMjM0LTQuOC4yMzMtLjE5Ni40MjItLjQyNS42NC0uNjMzeiIgZmlsbD0idXJsKCNLKSIgY2xhc3M9IkIiLz48cGF0aCBkPSJNMTA4LjQ2MiA1OS41NTJjLTEyLjE3NSAwLTIxLjEzNCAxLjY0LTI3LjE4MyAzLjk4LTMuMDI1IDEuMTctNS4zMjcgMi41MDgtNi45NTQgMy45ODdzLTIuNjQ0IDMuMTcyLTIuNjQ0IDVoMGwuMDQ0IDI0LjI5LjM1NS40NDRjMy41MDQgNC40MDUgOS41MTIgNyAxNi4xIDguNjJzMTMuNzkgMi4yMiAxOS44NTggMi4yMmMxNi4zMTggMCAzMC4wNTgtMy41NzUgMzYuMDE0LTEwLjkwNWwuMzctLjQ1NS0uMTg4LTI0LjYyNGMwLTIuNTAzLTEuNzUtNC40ODctNC4wNi01Ljk4NXMtNS4zNTMtMi42NzgtOC44Mi0zLjY0MmMtNi45MzUtMS45MjctMTUuNTUyLTIuOTQtMjIuODgtMi45M3ptLjAwMyAzLjI2NmguMDAyYzcuMDE2LS4wMTIgMTUuNDYuOTkyIDIyLjAwMyAyLjggMy4yNy45MSA2LjA2OCAyLjAzNSA3LjkxNyAzLjIzNHMyLjU3IDIuMzA1IDIuNTcgMy4yNDVjMCAxLjQ0Ny0uNzg2IDIuNzg0LTIuNTYzIDQuMTY1cy00LjQ4MyAyLjY1LTcuNzMzIDMuNjdjLTYuNSAyLjA0LTE1LjE1MyAzLjExOC0yMy4xMjIgMy4xMTgtOC45MiAwLTE3LjMzOC0xLjM0Mi0yMy4zODUtMy40NTYtMy4wMjMtMS4wNTctNS40NDgtMi4zMTUtNy4wMTQtMy41OTJzLTIuMTkyLTIuNDQ2LTIuMTkyLTMuNDk1YzAtLjU2OC4zNy0xLjQ4OCAxLjU3NS0yLjU4NHMzLjE4LTIuMjkgNS45MzUtMy4zNTdjNS41MS0yLjEzIDE0LjEyNy0zLjc2IDI2LjAwOC0zLjc2em0zMi41NCAxNS40OGwuMTMyIDE3LjE4OGMtNC45IDUuNTItMTcuNjQ2IDkuMzQtMzMuMTA4IDkuMzQtNS44NSAwLTEyLjg1OC0uNTkzLTE5LjA3Ny0yLjEyNC02LTEuNDc3LTExLjE1LTMuODkzLTEzLjk2LTcuMTQybC0uMDMyLTE3LjEyNWMuMDQyLjAzNS4wNzUuMDc3LjExOC4xMTIgMi4wMTMgMS42NCA0Ljc0IDMuMDAzIDggNC4xNDMgNi41MjUgMi4yOCAxNS4yMiAzLjYzOCAyNC40NjIgMy42MzggOC4yNiAwIDE3LjEzMi0xLjA4MiAyNC4xLTMuMjY4IDMuNDg0LTEuMDkzIDYuNS0yLjQ1MyA4Ljc1OC00LjIwNy4yMi0uMTcyLjQtLjM3My42MDctLjU1NXoiIGZpbGw9IiNmZmYiIGNsYXNzPSJCIi8+PHBhdGggZD0iTTEwOS4wOTQgNDguNzhjLTU1IDAtOTkuNTQzIDQ0LjU0My05OS41NDMgOTkuNTQzczQ0LjU0MyA5OS41NDUgOTkuNTQzIDk5LjU0NSA5OS41NDMtNDQuNTQ1IDk5LjU0My05OS41NDUtNDQuNTQzLTk5LjU0My05OS41NDMtOTkuNTQzem0wIDcuMDcyYTkyLjQ3IDkyLjQ3IDAgMCAxIDkyLjQ3MiA5Mi40NzIgOTIuNDcgOTIuNDcgMCAwIDEtOTIuNDcyIDkyLjQ3MiA5Mi40NyA5Mi40NyAwIDAgMS05Mi40NzItOTIuNDcyIDkyLjQ3IDkyLjQ3IDAgMCAxIDkyLjQ3Mi05Mi40NzJ6IiBmaWxsPSIjMDA3M2ZjIiBwYWludC1vcmRlcj0ibm9ybWFsIiBjbGFzcz0iQiIvPjwvZz48L3N2Zz4="/><rect x="596" y="175" width="130" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 190px; margin-left: 597px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">gearman-server</div></div></div></foreignObject><text x="661" y="194" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">gearman-server</text></switch></g><rect x="326" y="215" width="260" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 230px; margin-left: 327px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">Problem-4</font></div></div></div></foreignObject><text x="456" y="234" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Problem-4</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>
